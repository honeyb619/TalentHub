@model BusinessEntities.Model.SubCategoryEntity

@{
    ViewBag.Title = "Edit Category";
}
<style type="text/css">
    #banner {
        display: none;
    }
</style>


<div style="margin-left: 20%;margin-right:20%">
<h2>Edit Category</h2>
    <form name="Talentform">
    <fieldset>
        <legend style="display:none">Category</legend>
        <div style="display: none">
            @Html.TextBoxFor(model => model.SubCategoryId)
        </div>
        <div class="editor-label">
            <label>Name</label>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.SubCategoryName, new { required=""})
            @Html.ValidationMessageFor(model => model.SubCategoryName)
        </div>

        <div class="editor-label">
            <label>Value</label>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.SubCategoryValue, new { required=""})
            @Html.ValidationMessageFor(model => model.SubCategoryValue)
        </div>

        <div class="editor-label">
            <label>Description</label>
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.SubCategoryDescription, new { required=""})
            @Html.ValidationMessageFor(model => model.SubCategoryDescription)
        </div>

        <p>
            <br/>
            <input type="button" value="Save" onclick="SaveCategory()" />
            <input type="submit" value="submit" id="formsubmit" style="display:none" />
        </p>
    </fieldset>
        </form>
    
<div>
    @Html.ActionLink("Back to List", "Categories")
</div>

</div>

<script>
    function SaveCategory() {
        var $myForm = $('#Talentform');
        if (!$myForm.context.forms[0].checkValidity()) {
            $("#formsubmit").click();
            return;
        }
        var categoryObj = {};
        categoryObj["SubCategoryName"] = $("#SubCategoryName").val();
        categoryObj["SubCategoryValue"] = $("#SubCategoryValue").val();
        categoryObj["SubCategoryDescription"] = $("#SubCategoryDescription").val();
        categoryObj["SubCategoryId"] = $("#SubCategoryId").val();
        $.post('/Admin/UpdateCategoryDetails', categoryObj,
           function (data) {
               if (data == true)
                   location = "/Admin/Categories";
               else
                   alert("Not delete something Wrong");
           });

    }

</script>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
